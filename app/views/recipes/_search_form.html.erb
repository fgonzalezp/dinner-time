<%= form_with url: recipes_path, method: :get, local: true do |form| %>
  <section class="jumbotron text-center">
    <div class="container">
      <h1 class="jumbotron-heading">Search recipes by ingredients</h1>
      <div class="row">
        <div class="col-md-12">
          <label for="tagInput">Type an ingredient and press enter:</label>
          <%= form.text_field :tags, id: "tagInput", class: "form-control-sm w-75", value: @tags.join(",") %>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <%= form.submit "Search", class: "btn btn-primary my-2 justify-content-end" %>
          <%= form.label :full_match, "Only recipes containing all ingredients" %>
          <%= form.check_box :full_match, { checked: params[:full_match] == 'yes' }, 'yes', 'no' %>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <strong>Records found: </strong> <%= @records_size %>
        </div>
      </div>
    </div>
  </section>
<% end %>
<script>
    document.addEventListener("turbo:load", () => {
      let input = document.querySelector('#tagInput');
      let tagify = new Tagify(input);
    });
</script>